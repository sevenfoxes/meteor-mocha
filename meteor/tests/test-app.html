<div class="content"> <div class="test-wrapper"> <h1 class="title">Client tests</h1> <div id="mocha" class="mocha"><ul id="mocha-stats" class="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>13</em></li><li class="failures"><a href="#">failures:</a> <em>10</em></li><li class="duration">0</li></ul><ul id="mocha-report" class="mocha-report"><li class="suite"><h1><a href="/?grep=Client%20Test">Client Test</a></h1><ul><li class="test pass fast"><h2>this test is client side only<span class="duration">0</span> <a href="/?grep=Client%20Test%20this%20test%20is%20client%20side%20only" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">8</span></span>
      expect(Meteor.isClient).to.be["true"];                                                                       <span class="comment">// <span class="number">9</span></span>
      expect(Meteor.isServer).to.be["false"];                                                                      <span class="comment">// <span class="number">10</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=1%20-%20Array">1 - Array</a></h1><ul><li class="suite"><h1><a href="/?grep=1%20-%20Array%201%5C.1%20-%20%23indexOf%5C(%5C)">1.1 - #indexOf()</a></h1><ul><li class="test pass fast"><h2>should return -1 when the value is not present<span class="duration">0</span> <a href="/?grep=1%20-%20Array%201%5C.1%20-%20%23indexOf%5C(%5C)%20should%20return%20-1%20when%20the%20value%20is%20not%20present" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">18</span></span>
        expect([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].indexOf(<span class="number">5</span>)).to.equal(-<span class="number">1</span>);                                                                 <span class="comment">// <span class="number">19</span></span>
        <span class="keyword">return</span> expect([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].indexOf(<span class="number">0</span>)).to.equal(-<span class="number">1</span>);                                                          <span class="comment">// <span class="number">20</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=1%20-%20Array%201%5C.2%20-%20length">1.2 - length</a></h1><ul><li class="test pass fast"><h2>should return length of array<span class="duration">0</span> <a href="/?grep=1%20-%20Array%201%5C.2%20-%20length%20should%20return%20length%20of%20array" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">25</span></span>
        <span class="keyword">return</span> expect([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].length).to.equal(<span class="number">3</span>);                                                               <span class="comment">// <span class="number">26</span>;</span></code></pre></li></ul></li></ul></li><li class="suite"><h1><a href="/?grep=2%20-%20Async%20test">2 - Async test</a></h1><ul><li class="test pass fast"><h2>should pass<span class="duration">0</span> <a href="/?grep=2%20-%20Async%20test%20should%20pass" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">34</span></span>
      Meteor.setTimeout(<span class="keyword">function</span> () {                                                                              <span class="comment">// <span class="number">35</span></span>
        done();                                                                                                    <span class="comment">// <span class="number">36</span></span>
      }, <span class="number">1000</span>);                                                                                                    <span class="comment">// <span class="number">37</span>;</span></code></pre></li><li class="test fail fast"><h2>should throw <a href="/?grep=2%20-%20Async%20test%20should%20throw" class="replay">‣</a></h2><pre class="error">Error: done() invoked with non-Error: I'm throwing</pre><pre style="display: none;"><code><span class="comment">// <span class="number">40</span></span>
      Meteor.setTimeout(<span class="keyword">function</span> () {                                                                              <span class="comment">// <span class="number">41</span></span>
        done("I'm throwing");                                                                                      <span class="comment">// <span class="number">42</span></span>
      }, <span class="number">1000</span>);                                                                                                    <span class="comment">// <span class="number">43</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=3%20-%20Skipped%20test">3 - Skipped test</a></h1><ul><li class="test pass pending fast"><h2>3.1 - should skip test</h2></li><li class="test pass pending fast"><h2>3.2 - should skip test</h2></li></ul></li><li class="suite"><h1><a href="/?grep=4%20-%20Uncaught%20exception%20suite">4 - Uncaught exception suite</a></h1><ul><li class="test fail fast"><h2>should fail due to an uncaught exception <a href="/?grep=4%20-%20Uncaught%20exception%20suite%20should%20fail%20due%20to%20an%20uncaught%20exception" class="replay">‣</a></h2><pre class="error">Error: Error: I'm an uncaught exception (http://localhost:4096/app/app.js?hash=a</pre><pre style="display: none;"><code><span class="comment">// <span class="number">61</span></span>
      setTimeout(<span class="keyword">function</span> () {                                                                                     <span class="comment">// <span class="number">62</span></span>
        <span class="keyword">throw</span> <span class="keyword"><span class="keyword">new</span></span> <span class="init">Error</span>("I'm an uncaught exception");                                                              <span class="comment">// <span class="number">63</span></span>
        done();                                                                                                    <span class="comment">// <span class="number">64</span></span>
      }, <span class="number">1000</span>);                                                                                                    <span class="comment">// <span class="number">65</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=5%20-%20All%20sync%20test%20suite">5 - All sync test suite</a></h1><ul><li class="test pass fast"><h2>passing<span class="duration">0</span> <a href="/?grep=5%20-%20All%20sync%20test%20suite%20passing" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">87</span></span>
      expect(true).to.be["true"];                                                                                  <span class="comment">// <span class="number">88</span>;</span></code></pre></li><li class="test fail fast"><h2>throwing <a href="/?grep=5%20-%20All%20sync%20test%20suite%20throwing" class="replay">‣</a></h2><pre class="error">AssertionError: expected false to be trueassert@http://localhost:4096/packages/practicalmeteor_chai.js?hash=a
http://localhost:4096/packages/practicalmeteor_chai.js?hash=a
get@http://localhost:4096/packages/practicalmeteor_chai.js?hash=a
http://localhost:4096/app/app.js?hash=a
callFn@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
run@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
runTest@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
done@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
callFn@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
run@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
timeslice@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a</pre><pre style="display: none;"><code><span class="comment">// <span class="number">91</span></span>
      expect(false).to.be["true"];                                                                                 <span class="comment">// <span class="number">92</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=6%20-%20All%20async%20test%20suite">6 - All async test suite</a></h1><ul><li class="test pass fast"><h2>passing<span class="duration">0</span> <a href="/?grep=6%20-%20All%20async%20test%20suite%20passing" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">128</span></span>
      expect(this.keepContext).to.be["true"];                                                                      <span class="comment">// <span class="number">129</span></span>
      Meteor.setTimeout(<span class="keyword">function</span> () {                                                                              <span class="comment">// <span class="number">130</span></span>
        done();                                                                                                    <span class="comment">// <span class="number">131</span></span>
      }, <span class="number">2500</span>);                                                                                                    <span class="comment">// <span class="number">132</span>;</span></code></pre></li><li class="test fail fast"><h2>throwing <a href="/?grep=6%20-%20All%20async%20test%20suite%20throwing" class="replay">‣</a></h2><pre class="error">Error: failing</pre><pre style="display: none;"><code><span class="comment">// <span class="number">135</span></span>
      Meteor.defer(<span class="keyword">function</span> () {                                                                                   <span class="comment">// <span class="number">136</span></span>
        done(<span class="keyword"><span class="keyword">new</span></span> <span class="init">Error</span>(<span class="string">'failing'</span>));                                                                                <span class="comment">// <span class="number">137</span></span>
      });                                                                                                          <span class="comment">// <span class="number">138</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=7%20-%20implicit%20wait">7 - implicit wait</a></h1><ul><li class="test pass fast"><h2>during findOne<span class="duration">0</span> <a href="/?grep=7%20-%20implicit%20wait%20during%20findOne" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">144</span></span>
      <span class="keyword">var</span> doc;                                                                                                     <span class="comment">// <span class="number">145</span></span>
      <span class="keyword">return</span> doc = TestCollection.findOne({                                                                        <span class="comment">// <span class="number">146</span></span>
        _id: <span class="string">'xxx'</span>                                                                                                 <span class="comment">// <span class="number">147</span></span>
      });                                                                                                          <span class="comment">// <span class="number">146</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=8%20-%20skip%20suite">8 - skip suite</a></h1><ul><li class="test pass pending fast"><h2>this won't run</h2></li></ul></li><li class="suite"><h1><a href="/?grep=9%20-%20%20before%20and%20after%20hooks%20errors">9 -  before and after hooks errors</a></h1><ul><li class="test fail fast"><h2>"before all" hook <a href="/?grep=9%20-%20%20before%20and%20after%20hooks%20errors%20%22before%20all%22%20hook" class="replay">‣</a></h2><pre class="error">Error: Error from beforehttp://localhost:4096/app/app.js?hash=a
callFn@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
run@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
timeslice@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a</pre><pre style="display: none;"><code><span class="comment">// <span class="number">161</span></span>
      <span class="keyword">throw</span> <span class="keyword"><span class="keyword">new</span></span> <span class="init">Error</span>("Error from before");                                                                        <span class="comment">// <span class="number">162</span>;</span></code></pre></li><li class="test fail fast"><h2>"after all" hook <a href="/?grep=9%20-%20%20before%20and%20after%20hooks%20errors%20%22after%20all%22%20hook" class="replay">‣</a></h2><pre class="error">Error: Error from afterhttp://localhost:4096/app/app.js?hash=a
callFn@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
run@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
timeslice@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a</pre><pre style="display: none;"><code><span class="comment">// <span class="number">169</span></span>
      <span class="keyword">throw</span> <span class="keyword"><span class="keyword">new</span></span> <span class="init">Error</span>("Error from after");                                                                         <span class="comment">// <span class="number">170</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=10%20-%20beforeEach%20and%20afterEach%20hooks%20errors">10 - beforeEach and afterEach hooks errors</a></h1><ul><li class="test fail fast"><h2>"before each" hook for "It hooks with errors" <a href="/?grep=10%20-%20beforeEach%20and%20afterEach%20hooks%20errors%20%22before%20each%22%20hook%20for%20%22It%20hooks%20with%20errors%22" class="replay">‣</a></h2><pre class="error">Error: Error from beforeEachhttp://localhost:4096/app/app.js?hash=a
callFn@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
run@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
timeslice@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a</pre><pre style="display: none;"><code><span class="comment">// <span class="number">177</span></span>
      <span class="keyword">throw</span> <span class="keyword"><span class="keyword">new</span></span> <span class="init">Error</span>("Error from beforeEach");                                                                    <span class="comment">// <span class="number">178</span>;</span></code></pre></li><li class="test fail fast"><h2>"after each" hook for "It hooks with errors" <a href="/?grep=10%20-%20beforeEach%20and%20afterEach%20hooks%20errors%20%22after%20each%22%20hook%20for%20%22It%20hooks%20with%20errors%22" class="replay">‣</a></h2><pre class="error">Error: Error from afterEachhttp://localhost:4096/app/app.js?hash=a
callFn@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
run@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
timeslice@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a</pre><pre style="display: none;"><code><span class="comment">// <span class="number">185</span></span>
                           <span class="comment">//</span>
      <span class="keyword">throw</span> <span class="keyword"><span class="keyword">new</span></span> <span class="init">Error</span>("Error from afterEach");                                                                     <span class="comment">// <span class="number">187</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=11%20-%20Specify">11 - Specify</a></h1><ul><li class="test pass fast"><h2>it works<span class="duration">0</span> <a href="/?grep=11%20-%20Specify%20it%20works" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">194</span></span>
      expect(true).to.be["true"];                                                                                  <span class="comment">// <span class="number">195</span>;</span></code></pre></li><li class="test pass pending fast"><h2>Skip: This won't run</h2></li></ul></li><li class="suite"><h1><a href="/?grep=12%20-%20Context%20test">12 - Context test</a></h1><ul><li class="test pass fast"><h2>it works<span class="duration">0</span> <a href="/?grep=12%20-%20Context%20test%20it%20works" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">205</span></span>
      expect(true).to.be["true"];                                                                                  <span class="comment">// <span class="number">206</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=12%20-%20Skip%20suite%20%5C(xcontext%5C)">12 - Skip suite (xcontext)</a></h1><ul><li class="test pass pending fast"><h2>This won't run</h2></li></ul></li><li class="suite"><h1><a href="/?grep=13%20-%20Promises">13 - Promises</a></h1><ul><li class="test pass fast"><h2>Handle promises<span class="duration">0</span> <a href="/?grep=13%20-%20Promises%20Handle%20promises" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">220</span></span>
      <span class="keyword">return</span> <span class="keyword"><span class="keyword">new</span></span> <span class="init">Promise</span>(<span class="keyword">function</span> (resolve, reject) {                                                              <span class="comment">// <span class="number">221</span></span>
        expect(true).to.be["true"];                                                                                <span class="comment">// <span class="number">222</span></span>
        resolve(true);                                                                                             <span class="comment">// <span class="number">223</span></span>
      });                                                                                                          <span class="comment">// <span class="number">224</span>;</span></code></pre></li><li class="test fail fast"><h2>Handle promises errors <a href="/?grep=13%20-%20Promises%20Handle%20promises%20errors" class="replay">‣</a></h2><pre class="error">Error: fails-just-fine</pre><pre style="display: none;"><code><span class="comment">// <span class="number">227</span></span>
      <span class="keyword">return</span> <span class="keyword"><span class="keyword">new</span></span> <span class="init">Promise</span>(<span class="keyword">function</span> (resolve, reject) {                                                              <span class="comment">// <span class="number">228</span></span>
        reject(<span class="keyword"><span class="keyword">new</span></span> <span class="init">Error</span>(<span class="string">'fails-just-fine'</span>));                                                                      <span class="comment">// <span class="number">229</span></span>
      });                                                                                                          <span class="comment">// <span class="number">230</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=Globals">Globals</a></h1><ul><li class="test pass fast"><h2>passing<span class="duration">0</span> <a href="/?grep=Globals%20passing" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">19</span></span>
      <span class="keyword">return</span> expect(true).to.be["true"];                                                                           <span class="comment">// <span class="number">20</span>;</span></code></pre></li><li class="test fail fast"><h2>throwing <a href="/?grep=Globals%20throwing" class="replay">‣</a></h2><pre class="error">AssertionError: expected false to be trueassert@http://localhost:4096/packages/practicalmeteor_chai.js?hash=a
http://localhost:4096/packages/practicalmeteor_chai.js?hash=a
get@http://localhost:4096/packages/practicalmeteor_chai.js?hash=a
http://localhost:4096/app/app.js?hash=a
callFn@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
run@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
runTest@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
done@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
callFn@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
run@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
next@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a
timeslice@http://localhost:4096/packages/practicalmeteor_mocha-core.js?hash=a</pre><pre style="display: none;"><code><span class="comment">// <span class="number">22</span></span>
      <span class="keyword">return</span> expect(false).to.be["true"];                                                                          <span class="comment">// <span class="number">23</span>;</span></code></pre></li><li class="test pass fast"><h2>it works<span class="duration">0</span> <a href="/?grep=Globals%20it%20works" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">26</span></span>
      expect(true).to.be["true"];                                                                                  <span class="comment">// <span class="number">27</span>;</span></code></pre></li><li class="test pass pending fast"><h2>Skip: This won't run (xspecify)</h2></li><li class="suite"><h1><a href="/?grep=Globals%20Skip%20suite%20%5C(xdescribe%5C)">Skip suite (xdescribe)</a></h1><ul><li class="test pass pending fast"><h2>this won't run</h2></li></ul></li><li class="suite"><h1><a href="/?grep=Globals%20Context%20test">Context test</a></h1><ul><li class="test pass fast"><h2>it works<span class="duration">0</span> <a href="/?grep=Globals%20Context%20test%20it%20works" class="replay">‣</a></h2><pre style="display: none;"><code><span class="comment">// <span class="number">41</span></span>
        expect(true).to.be["true"];                                                                                <span class="comment">// <span class="number">42</span>;</span></code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=Globals%20Skip%20suite%20%5C(xcontext%5C)">Skip suite (xcontext)</a></h1><ul><li class="test pass pending fast"><h2>This won't run</h2></li></ul></li></ul></li></ul></div> </div> <div class="divider"></div> <div class="test-wrapper"> <h1 class="title">Server tests</h1> <div id="server-mocha" class="mocha"><ul id="server-mocha-stats" class="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>13</em></li><li class="failures"><a href="#">failures:</a> <em>11</em></li><li class="duration">0</li></ul><ul id="server-mocha-report" class="mocha-report"><li class="suite"><h1><a href="/?grep=Server%20Test">Server Test</a></h1><ul><li class="test pass fast"><h2>this test is server side only<span class="duration">0</span> <a href="/?grep=Server%20Test%20this%20test%20is%20server%20side%20only" class="replay">‣</a></h2><pre style="display: none;"><code>// 8
      expect(Meteor.isServer).to.be["true"];                                                                       // 9
      expect(Meteor.isClient).to.be["false"];                                                                      // 10</code></pre></li><li class="test pass fast"><h2>require('fs) === to Npm.require('fs')<span class="duration">0</span> <a href="/?grep=Server%20Test%20require%5C('fs%5C)%20%3D%3D%3D%20to%20Npm%5C.require%5C('fs'%5C)" class="replay">‣</a></h2><pre style="display: none;"><code>// 13
      expect(require('fs')).to.equal(Npm.require('fs'));                                                           // 14</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=1%20-%20Array">1 - Array</a></h1><ul><li class="suite"><h1><a href="/?grep=1%20-%20Array%201%5C.1%20-%20%23indexOf%5C(%5C)">1.1 - #indexOf()</a></h1><ul><li class="test pass fast"><h2>should return -1 when the value is not present<span class="duration">0</span> <a href="/?grep=1%20-%20Array%201%5C.1%20-%20%23indexOf%5C(%5C)%20should%20return%20-1%20when%20the%20value%20is%20not%20present" class="replay">‣</a></h2><pre style="display: none;"><code>// 18
        expect([1, 2, 3].indexOf(5)).to.equal(-1);                                                                 // 19
        return expect([1, 2, 3].indexOf(0)).to.equal(-1);                                                          // 20</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=1%20-%20Array%201%5C.2%20-%20length">1.2 - length</a></h1><ul><li class="test pass fast"><h2>should return length of array<span class="duration">0</span> <a href="/?grep=1%20-%20Array%201%5C.2%20-%20length%20should%20return%20length%20of%20array" class="replay">‣</a></h2><pre style="display: none;"><code>// 25
        return expect([1, 2, 3].length).to.equal(3);                                                               // 26</code></pre></li></ul></li></ul></li><li class="suite"><h1><a href="/?grep=2%20-%20Async%20test">2 - Async test</a></h1><ul><li class="test pass fast"><h2>should pass<span class="duration">0</span> <a href="/?grep=2%20-%20Async%20test%20should%20pass" class="replay">‣</a></h2><pre style="display: none;"><code>// 34
      Meteor.setTimeout(function () {                                                                              // 35
        done();                                                                                                    // 36
      }, 1000);                                                                                                    // 37</code></pre></li><li class="test fail fast"><h2>should throw <a href="/?grep=2%20-%20Async%20test%20should%20throw" class="replay">‣</a></h2><pre class="error">Error: done() invoked with non-Error: I'm throwing
    at both-test.js:42:9
    at [object Object]._.extend.withValue (packages/meteor/dynamics_nodejs.js:56:1)
    at packages/meteor/timers.js:6:1
    at runWithEnvironment (packages/meteor/dynamics_nodejs.js:110:1)</pre><pre style="display: none;"><code>// 40
      Meteor.setTimeout(function () {                                                                              // 41
        done("I'm throwing");                                                                                      // 42
      }, 1000);                                                                                                    // 43</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=3%20-%20Skipped%20test">3 - Skipped test</a></h1><ul><li class="test pass pending fast"><h2>3.1 - should skip test</h2></li><li class="test pass pending fast"><h2>3.2 - should skip test</h2></li></ul></li><li class="suite"><h1><a href="/?grep=4%20-%20Uncaught%20exception%20suite">4 - Uncaught exception suite</a></h1><ul><li class="test fail fast"><h2>should fail due to an uncaught exception <a href="/?grep=4%20-%20Uncaught%20exception%20suite%20should%20fail%20due%20to%20an%20uncaught%20exception" class="replay">‣</a></h2><pre class="error">Error: I'm an uncaught exception
    at [object Object]._onTimeout (both-test.js:63:15)</pre><pre style="display: none;"><code>// 61
      setTimeout(function () {                                                                                     // 62
        throw new Error("I'm an uncaught exception");                                                              // 63
        done();                                                                                                    // 64
      }, 1000);                                                                                                    // 65</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=5%20-%20All%20sync%20test%20suite">5 - All sync test suite</a></h1><ul><li class="test pass fast"><h2>passing<span class="duration">0</span> <a href="/?grep=5%20-%20All%20sync%20test%20suite%20passing" class="replay">‣</a></h2><pre style="display: none;"><code>// 87
      expect(true).to.be["true"];                                                                                  // 88</code></pre></li><li class="test fail fast"><h2>throwing <a href="/?grep=5%20-%20All%20sync%20test%20suite%20throwing" class="replay">‣</a></h2><pre class="error">Error: expected false to be true
    at Assertion.&lt;anonymous&gt; (packages/practicalmeteor_chai.js:1236:10)
    at Assertion.Object.defineProperty.get (packages/practicalmeteor_chai.js:4100:29)
    at Test.&lt;anonymous&gt; (both-test.js:92:7)
    at run (packages/practicalmeteor:mocha-core/server.js:32:29)
    at Context.wrappedFunction (packages/practicalmeteor:mocha-core/server.js:61:33)</pre><pre style="display: none;"><code>// 91
      expect(false).to.be["true"];                                                                                 // 92</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=6%20-%20All%20async%20test%20suite">6 - All async test suite</a></h1><ul><li class="test fail fast"><h2>passing <a href="/?grep=6%20-%20All%20async%20test%20suite%20passing" class="replay">‣</a></h2><pre class="error">Error: expected undefined to be true
    at Assertion.&lt;anonymous&gt; (packages/practicalmeteor_chai.js:1236:10)
    at Assertion.Object.defineProperty.get (packages/practicalmeteor_chai.js:4100:29)
    at Test.&lt;anonymous&gt; (both-test.js:129:7)
    at run (packages/practicalmeteor:mocha-core/server.js:54:16)
    at Context.wrappedFunction (packages/practicalmeteor:mocha-core/server.js:61:33)</pre><pre style="display: none;"><code>// 128
      expect(this.keepContext).to.be["true"];                                                                      // 129
      Meteor.setTimeout(function () {                                                                              // 130
        done();                                                                                                    // 131
      }, 2500);                                                                                                    // 132</code></pre></li><li class="test fail fast"><h2>throwing <a href="/?grep=6%20-%20All%20async%20test%20suite%20throwing" class="replay">‣</a></h2><pre class="error">Error: failing
    at both-test.js:137:14
    at [object Object]._.extend.withValue (packages/meteor/dynamics_nodejs.js:56:1)
    at packages/meteor/timers.js:6:1
    at runWithEnvironment (packages/meteor/dynamics_nodejs.js:110:1)</pre><pre style="display: none;"><code>// 135
      Meteor.defer(function () {                                                                                   // 136
        done(new Error('failing'));                                                                                // 137
      });                                                                                                          // 138</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=7%20-%20implicit%20wait">7 - implicit wait</a></h1><ul><li class="test pass fast"><h2>during findOne<span class="duration">0</span> <a href="/?grep=7%20-%20implicit%20wait%20during%20findOne" class="replay">‣</a></h2><pre style="display: none;"><code>// 144
      var doc;                                                                                                     // 145
      return doc = TestCollection.findOne({                                                                        // 146
        _id: 'xxx'                                                                                                 // 147
      });                                                                                                          // 146</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=8%20-%20skip%20suite">8 - skip suite</a></h1><ul><li class="test pass pending fast"><h2>this won't run</h2></li></ul></li><li class="suite"><h1><a href="/?grep=9%20-%20%20before%20and%20after%20hooks%20errors">9 -  before and after hooks errors</a></h1><ul><li class="test fail fast"><h2>"before all" hook: "before all" hook: wrappedFunction <a href="/?grep=9%20-%20%20before%20and%20after%20hooks%20errors%20%22before%20all%22%20hook%3A%20%22before%20all%22%20hook%3A%20wrappedFunction" class="replay">‣</a></h2><pre class="error">Error: Error from before
    at Hook.&lt;anonymous&gt; (both-test.js:162:13)
    at run (packages/practicalmeteor:mocha-core/server.js:32:29)</pre><pre style="display: none;"><code>// 161
      throw new Error("Error from before");                                                                        // 162</code></pre></li><li class="test fail fast"><h2>"after all" hook: "after all" hook: wrappedFunction <a href="/?grep=9%20-%20%20before%20and%20after%20hooks%20errors%20%22after%20all%22%20hook%3A%20%22after%20all%22%20hook%3A%20wrappedFunction" class="replay">‣</a></h2><pre class="error">Error: Error from after
    at Hook.&lt;anonymous&gt; (both-test.js:170:13)
    at run (packages/practicalmeteor:mocha-core/server.js:32:29)</pre><pre style="display: none;"><code>// 169
      throw new Error("Error from after");                                                                         // 170</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=10%20-%20beforeEach%20and%20afterEach%20hooks%20errors">10 - beforeEach and afterEach hooks errors</a></h1><ul><li class="test fail fast"><h2>"before each" hook: "before each" hook: wrappedFunction for "It hooks with errors" <a href="/?grep=10%20-%20beforeEach%20and%20afterEach%20hooks%20errors%20%22before%20each%22%20hook%3A%20%22before%20each%22%20hook%3A%20wrappedFunction%20for%20%22It%20hooks%20with%20errors%22" class="replay">‣</a></h2><pre class="error">Error: Error from beforeEach
    at Hook.&lt;anonymous&gt; (both-test.js:178:13)
    at run (packages/practicalmeteor:mocha-core/server.js:32:29)</pre><pre style="display: none;"><code>// 177
      throw new Error("Error from beforeEach");                                                                    // 178</code></pre></li><li class="test fail fast"><h2>"after each" hook: "after each" hook: wrappedFunction for "It hooks with errors" <a href="/?grep=10%20-%20beforeEach%20and%20afterEach%20hooks%20errors%20%22after%20each%22%20hook%3A%20%22after%20each%22%20hook%3A%20wrappedFunction%20for%20%22It%20hooks%20with%20errors%22" class="replay">‣</a></h2><pre class="error">Error: Error from afterEach
    at Hook.&lt;anonymous&gt; (both-test.js:187:13)
    at run (packages/practicalmeteor:mocha-core/server.js:32:29)</pre><pre style="display: none;"><code>// 185
                           //
      throw new Error("Error from afterEach");                                                                     // 187</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=11%20-%20Specify">11 - Specify</a></h1><ul><li class="test pass fast"><h2>it works<span class="duration">0</span> <a href="/?grep=11%20-%20Specify%20it%20works" class="replay">‣</a></h2><pre style="display: none;"><code>// 194
      expect(true).to.be["true"];                                                                                  // 195</code></pre></li><li class="test pass pending fast"><h2>Skip: This won't run</h2></li></ul></li><li class="suite"><h1><a href="/?grep=12%20-%20Context%20test">12 - Context test</a></h1><ul><li class="test pass fast"><h2>it works<span class="duration">0</span> <a href="/?grep=12%20-%20Context%20test%20it%20works" class="replay">‣</a></h2><pre style="display: none;"><code>// 205
      expect(true).to.be["true"];                                                                                  // 206</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=12%20-%20Skip%20suite%20%5C(xcontext%5C)">12 - Skip suite (xcontext)</a></h1><ul><li class="test pass pending fast"><h2>This won't run</h2></li></ul></li><li class="suite"><h1><a href="/?grep=13%20-%20Promises">13 - Promises</a></h1><ul><li class="test pass fast"><h2>Handle promises<span class="duration">0</span> <a href="/?grep=13%20-%20Promises%20Handle%20promises" class="replay">‣</a></h2><pre style="display: none;"><code>// 220
      return new Promise(function (resolve, reject) {                                                              // 221
        expect(true).to.be["true"];                                                                                // 222
        resolve(true);                                                                                             // 223
      });                                                                                                          // 224</code></pre></li><li class="test fail fast"><h2>Handle promises errors <a href="/?grep=13%20-%20Promises%20Handle%20promises%20errors" class="replay">‣</a></h2><pre class="error">Error: fails-just-fine
    at both-test.js:229:16
    at tryCallTwo (/home/test/.meteor/promise/core.js:1:1)
    at doResolve (/home/test/.meteor/promise/core.js:1:1)
    at new Promise (/home/test/.meteor/promise/core.js:1:1)
    at Test.&lt;anonymous&gt; (both-test.js:228:14)
    at run (packages/practicalmeteor:mocha-core/server.js:32:29)</pre><pre style="display: none;"><code>// 227
      return new Promise(function (resolve, reject) {                                                              // 228
        reject(new Error('fails-just-fine'));                                                                      // 229
      });                                                                                                          // 230</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=Globals">Globals</a></h1><ul><li class="test pass fast"><h2>passing<span class="duration">0</span> <a href="/?grep=Globals%20passing" class="replay">‣</a></h2><pre style="display: none;"><code>// 19
      return expect(true).to.be["true"];                                                                           // 20</code></pre></li><li class="test fail fast"><h2>throwing <a href="/?grep=Globals%20throwing" class="replay">‣</a></h2><pre class="error">Error: expected false to be true
    at Assertion.&lt;anonymous&gt; (packages/practicalmeteor_chai.js:1236:10)
    at Assertion.Object.defineProperty.get (packages/practicalmeteor_chai.js:4100:29)
    at Test.&lt;anonymous&gt; (globals-test.js:23:14)
    at run (packages/practicalmeteor:mocha-core/server.js:32:29)
    at Context.wrappedFunction (packages/practicalmeteor:mocha-core/server.js:61:33)</pre><pre style="display: none;"><code>// 22
      return expect(false).to.be["true"];                                                                          // 23</code></pre></li><li class="test pass fast"><h2>it works<span class="duration">0</span> <a href="/?grep=Globals%20it%20works" class="replay">‣</a></h2><pre style="display: none;"><code>// 26
      expect(true).to.be["true"];                                                                                  // 27</code></pre></li><li class="test pass pending fast"><h2>Skip: This won't run (xspecify)</h2></li><li class="suite"><h1><a href="/?grep=Globals%20Skip%20suite%20%5C(xdescribe%5C)">Skip suite (xdescribe)</a></h1><ul><li class="test pass pending fast"><h2>this won't run</h2></li></ul></li><li class="suite"><h1><a href="/?grep=Globals%20Context%20test">Context test</a></h1><ul><li class="test pass fast"><h2>it works<span class="duration">0</span> <a href="/?grep=Globals%20Context%20test%20it%20works" class="replay">‣</a></h2><pre style="display: none;"><code>// 41
        expect(true).to.be["true"];                                                                                // 42</code></pre></li></ul></li><li class="suite"><h1><a href="/?grep=Globals%20Skip%20suite%20%5C(xcontext%5C)">Skip suite (xcontext)</a></h1><ul><li class="test pass pending fast"><h2>This won't run</h2></li></ul></li></ul></li></ul></div> </div> </div>